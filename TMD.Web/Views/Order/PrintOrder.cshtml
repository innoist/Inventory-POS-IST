@model TMD.Web.Models.OrderListViewModel
@{
    ViewBag.Title = "Print Order";
    Session["MenuKey"] = 20;
    Layout = "~/Views/Shared/_AdminLayout.cshtml";
}
<link href="~/Content/css/invoice.css" rel="stylesheet" />
<div id="PrintDiv">
    <!-- BEGIN PAGE CONTENT-->
    
    <div class="invoice col-md-8">

        <div class="row invoice-logo">
            <div class="col-xs-6 invoice-logo-space">

                <img src="~/Images/CompanyLogo/toysworldlogo.png" class="img-responsive" alt="" />
            </div>
            <div class="col-xs-6">
                <p>
                   Order: #201-@Model.OrderOriginalId 
                    <span class="muted">
                        @Model.RecCreatedDateFormatted</span>
                        <span class="muted">

                            <a>Facebook.com/TOYSWORLDPK </a>
                        </span>
</p>
            </div>
        </div>
        <hr />
        <div class="row">
            <div class="col-xs-4">
                <h3>Customer:</h3>
                <ul class="list-unstyled">
                    <li>
                        Name: @Model.CustomerName
                    </li>
                    <li>
                        Phone: @Model.CustomerPhone
                    </li>
                    <li>
                        Email: @Model.CustomerEmail
                    </li>

                </ul>
            </div>
            <div class="col-xs-4">
                @*<h3>About:</h3>
                    <ul class="list-unstyled">
                        <li>
                            Drem psum dolor sit amet
                        </li>
                        <li>
                            Laoreet dolore magna
                        </li>
                        <li>
                            Consectetuer adipiscing elit
                        </li>
                        <li>
                            Magna aliquam tincidunt erat volutpat
                        </li>
                        <li>
                            Olor sit amet adipiscing eli
                        </li>
                        <li>
                            Laoreet dolore magna
                        </li>
                    </ul>*@
            </div>
            <div class="col-xs-4 invoice-payment">
                <h3 style="margin-bottom: 5px!important">Payment Details:</h3>
                <ul class="list-unstyled">
                    <li>
                        <strong>Total Qty:</strong>@Model.TotalItems
                    </li>
                    <li>
                        <strong>Sub Total:</strong>Rs. @Model.TotalSale
                    </li>

                    <li>
                        <strong>Discount:    </strong> Rs. @Model.TotalDiscount
                    </li>
                    <li>
                        <strong>Payable:     </strong> <span style="font-weight: bold"> &nbsp;&nbsp;Rs. @(Model.TotalSale - Model.TotalDiscount) </span>
                    </li>

                </ul>
            </div>
        </div>
        <div class="row">
            <div class="col-xs-12">
                <table id="dataTable" class="table table-striped table-hover" cellspacing="0">
                    <thead>
                        <tr>
                            <th>
                                #
                            </th>
                            <th>
                                Code
                            </th>
                            <th >
                                Name
                            </th>
                            <th>
                                Price
                            </th>

                            <th>
                                Quantity
                            </th>
                            <th>
                                Sub Total
                            </th>


                            <th>
                                Disc Amount
                            </th>
                            <th>
                                Total
                            </th>


                        </tr>
                    </thead>
                    <tbody>

                        @for (int i = 0; i < Model.OrderItems.Count; i++)
                        {

                            var item = Model.OrderItems[i];

                        <tr>
                            <td>@(i+1)</td>
                            <td>TW @item.ProductId</td>
                            <td>@item.Product.Name</td>
                            <td>@item.SalePrice</td>
                            <td>@item.Quantity</td>
                            <td>@item.Subtotal</td>
                            <td>@item.Discount</td>
                            <td>@item.TotalItemAmount</td>
                        </tr>

                        }
                    </tbody>

                </table>

            </div>
        </div>
        <div class="row">
            <div class="col-xs-4">
                <div class="well">
                    <address>
                        <strong>Toys World</strong><br />
                        C Block Market DHA EMA<br />
                        <abbr >M:</abbr> (0321) 44-99-439 
                        <abbr >E:</abbr>info@toysworldpk.com
                    </address>
                    <address>
                        <a>
                            <strong style="font-style: italic">Facebook.com/TOYSWORLDPK</strong>
                        </a>
                        <a>
                            www.toysworldpk.com
                        </a>
                    </address>
                </div>
            </div>
            <div class="col-xs-8 invoice-block">
                <ul class="list-unstyled amounts">

                    <li class="TermsAndConditions">
                        *Items are only replaceable with in 2 days of purchase. No item is refundable.
                    </li>
                    <li class="TermsAndConditions">
                        *Items are not replaceable without receipt. Only check warranty in shop is valid.
                    </li>
                    <li class="TermsAndConditions">
                        *Items in Sale or having discounts are not replaceable
                    </li>
                    <li class="TermsAndConditions">
                        *ToysWorld reserves the right to replace the items or not.
                    </li>
                </ul>
                @*<a class="btn btn-lg blue hidden-print margin-bottom-5" onclick="javascript:window.print();">*@
                
                <a class="btn btn-lg blue hidden-print margin-bottom-5" onclick="PrintElem(); return false;">
                    Print <i class="fa fa-print"></i>
                </a>
                <a class="btn btn-lg green hidden-print margin-bottom-5" href="/order/Index">
                    Back to orders <i class="fa fa-check"></i>
                </a>
            </div>
        </div>


    </div>
  
    

    <!-- END PAGE CONTENT-->
</div>
<div id="ToPrint" style="display: none" width="450px">
   
    <div class="invoice col-md-8" >

        <div class="row invoice-logo">
            
            <div  class="col-xs-6 bold" style="border-color: black; border-style: solid; border-width: 0px">
                
                <div align="center" >
                    <span style="text-decoration: underline; font-size:35px !important; font-family: impact">
                        TOYS WORLD
                    </span>
                </div>
                <p align="center" style="font-size: 12px">
                    Order: #201-@Model.OrderOriginalId
                    <span class="muted">
                        @Model.RecCreatedDateFormatted
                    </span>
                   
                </p>
            </div>
        </div>
       <br/>
        <div class="col-xs-12" style="border-color: black; border-style: solid; border-width: 1px">
            <table id="dataTable" width="100%" class="table table-striped table-hover" cellspacing="0">
                <thead style="font-size: 14px !important">
                    <tr>
                        @*<th class="smallGridFont" >
                            #
                        </th>*@
                        <th class="smallGridFont">
                            Code
                        </th>
                        <th class="smallGridFont">
                            Name
                        </th>
                        <th class="smallGridFont">
                            Price
                        </th>

                        <th class="smallGridFont">
                            Qty
                        </th>
                        @*<th class="smallGridFont">
                            Sub
                        </th>*@


                        @*<th class="smallGridFont">
                            Disc
                        </th>*@
                        <th class="smallGridFont">
                            Total
                        </th>


                    </tr>

                </thead>
                <tbody style="font-size: 14px !important">

                    @for (int i = 0; i < Model.OrderItems.Count; i++)
                        {

                            var item = Model.OrderItems[i];

                        <tr>
                            @*<td class="smallGridFont">@(i + 1)</td>*@
                            <td class="smallGridFont">TS @item.ProductId</td>
                            <td class="smallGridFont">@item.Product.Name.Substring(0, item.Product.Name.Length <= 15 ? item.Product.Name.Length : 15)</td>
                            <td class="smallGridFont">@item.SalePrice.ToString("N0")</td>
                            <td class="smallGridFont">@item.Quantity</td>
                            @*<td class="smallGridFont">@item.Subtotal.ToString("N0")</td>*@
                            @*<td class="smallGridFont">@item.Discount.ToString("N0")</td>*@
                            <td class="smallGridFont">@item.TotalItemAmount.ToString("N0")</td>
                        </tr>

                        }
                </tbody>

            </table>

        </div>
     
         
        <br />
            <div >
                
                <table width="100%">
                    <tr width="100%">
                        <td width="70%">
                            <table width="100%" style="font-size: 10px !important">
                                <tr>
                                <td>
                                    Summary:
                                </td>
                                
                                
                                <td>
                                    Qty: @Model.TotalItems
                                </td>

                                
                                @*<td>
                                        Sub: Rs. @Model.TotalSale
                                    </td>*@
                                <td>
                                    Disc: Rs. @Model.TotalDiscount
                                </td>
                                <td>
                                    Payable:<span style="font-weight: bold; font-size: 15px !important"> &nbsp;&nbsp;Rs. @(Model.TotalSale - Model.TotalDiscount) </span>
                                </td>
                                
                            </table>
                        </td>

              
                    </tr>
                </table>
                <br/>
                <table style="border-color: black; border-style: solid; border-width: 1px 0px 0px 0px"><tr>
                           <td width="100%" style="font-size: 10px !important" >

                               @*<ul class="list-unstyled amounts col-xs-6" style="list-style-type: none;">*@

                                   @*<li class="TermsAndConditions">
                    *Items are only replaceable with in 2 days of purchase. No item is refundable.
                </li>*@
                                   @*<li class="TermsAndConditions">*@
                               <i>*Items are not replaceable without receipt.</i> Only check warranty in shop is valid.
                                       <br/>
                                       
                               <b>Fb.com/TOYSWORLDPK </b> 0321-44-99-439 <b>C-BLOCK EME</b>
                                       <br/>
                                        
                                   @*</li>*@
                                   @*<li class="TermsAndConditions">
                    *Items in Sale or having discounts are not replaceable
                </li>
                <li class="TermsAndConditions">
                    *ToysWorld reserves the right to replace the items or not.
                </li>*@
                               @*</ul>*@


                           </td>
                       
                       </tr>
                </table>
                </div>
        
    </div>
</div>
       
        <script type="text/javascript">
            $(document).ready(function() {
                PrintElem();
            });
            function PrintElem(elem) {
                //Popup($(elem).html());
                Popup($('#ToPrint').html());
            }

            function Popup(data) {
                var mywindow = window.open('', 'my div', 'height=inherit,width=600');
                mywindow.document.write('<html><head><style>ul{list-style-type: none;}</style> <title>my div</title>');
                /*optional stylesheet*/ //mywindow.document.write('<link rel="stylesheet" href="main.css" type="text/css" />');
                mywindow.document.write('</head><body >');
                mywindow.document.write(data);
                mywindow.document.write('</body></html>');

                mywindow.document.close(); // necessary for IE >= 10
                mywindow.focus(); // necessary for IE >= 10

                mywindow.print();
                mywindow.close();
                window.location.href = "../Create";
                return true;
            }

        </script>

